{"N":"package","version":"30","packageVersion":"1","saxonVersion":"SaxonJS 3.0","target":"JS","targetVersion":"3","name":"TOP-LEVEL","relocatable":"false","buildDateTime":"2025-05-14T01:46:05.231Z","ns":"xml=~ xsl=~ xs=~","C":[{"N":"co","binds":"","id":"0","C":[{"N":"mode","onNo":"TC","flags":"","patternSlots":"0","prec":"","C":[{"N":"templateRule","rank":"0","prec":"0","seq":"0","ns":"xml=~ xsl=~ xs=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///workspaces/def/docs/validation/validation-report-html.xsl","line":"7","module":"validation-report-html.xsl","expand-text":"false","match":"/","prio":"-0.5","matches":"ND","C":[{"N":"p.nodeTest","role":"match","test":"ND","sType":"1ND","ns":"= xml=~ xsl=~ xs=~ "},{"N":"elem","name":"html","sType":"1NE nQ{}html ","nsuri":"","namespaces":"","role":"action","line":"8","C":[{"N":"sequence","sType":"*NE ","C":[{"N":"elem","name":"head","sType":"1NE nQ{}head ","nsuri":"","namespaces":"","line":"9","C":[{"N":"sequence","sType":"*NE ","C":[{"N":"elem","name":"title","sType":"1NE nQ{}title ","nsuri":"","namespaces":"","line":"10","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"DIGGS Validation Report"}]}]},{"N":"elem","name":"link","sType":"1NE nQ{}link ","nsuri":"","namespaces":"","line":"13","C":[{"N":"sequence","sType":"*NA ","C":[{"N":"att","name":"rel","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"stylesheet"}]},{"N":"att","name":"href","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.css"}]}]}]},{"N":"elem","name":"link","sType":"1NE nQ{}link ","nsuri":"","namespaces":"","line":"15","C":[{"N":"sequence","sType":"*NA ","C":[{"N":"att","name":"rel","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"stylesheet"}]},{"N":"att","name":"href","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/theme/eclipse.min.css"}]}]}]},{"N":"elem","name":"link","sType":"1NE nQ{}link ","nsuri":"","namespaces":"","line":"17","C":[{"N":"sequence","sType":"*NA ","C":[{"N":"att","name":"rel","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"stylesheet"}]},{"N":"att","name":"href","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/dialog/dialog.min.css"}]}]}]},{"N":"elem","name":"link","sType":"1NE nQ{}link ","nsuri":"","namespaces":"","line":"19","C":[{"N":"sequence","sType":"*NA ","C":[{"N":"att","name":"rel","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"stylesheet"}]},{"N":"att","name":"href","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/fold/foldgutter.min.css"}]}]}]},{"N":"elem","name":"style","sType":"1NE nQ{}style ","nsuri":"","namespaces":"","line":"20","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\n/* Base styles */\nbody {\n    font-family: Arial, sans-serif;\n    margin: 0;\n    padding: 20px;\n    background-color: #f5f5f5;\n    color: #333;\n    line-height: 1.6;\n}\n\n.container {\n    max-width: 1400px;\n    margin: 0 auto;\n    background-color: white;\n    padding: 20px 30px;\n    border-radius: 8px;\n    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);\n}\n\nh1 {\n    color: #2c3e50;\n    text-align: center;\n    margin-bottom: 10px;\n    padding-bottom: 10px;\n    width: 100%;\n}\n\n.header-container {\n    position: relative;\n    text-align: center;\n    border-bottom: 2px solid #f0f0f0;\n    padding-bottom: 10px;\n    margin-bottom: 20px;\n    height: 50px;\n}\n\n.header-logo {\n    position: absolute;\n    left: 0;\n    top: 50%;\n    transform: translateY(-50%);\n    width: 200px;\n}\n\n/* Validation result styles - row shading colors */\n.error {\n    background-color: #fdd5d1;\n    border-left: 4px solid #b02819\n}\n\n.warning {\n    background-color: #fde5be;\n    border-left: 4px solid #9c7008\n}\n\n.info {\n    background-color: #d1e7f2;\n    border-left: 4px solid #0b68a7\n\n}\n\n.success {\n    background-color: #e9f7ef;\n    border-left: 4px solid #2ecc71;\n}\n\n/* Summary banner */\n.summary-banner {\n    padding: 6px;\n    margin: 15px 0;\n    text-align: center;\n    border-radius: 4px;\n    font-weight: bold;\n    font-size: 18px;\n}\n\n.summary-banner.success {\n    background-color: #d4efdf;\n}\n\n.summary-banner.info {\n    background-color: #d4e6f1;\n}\n\n.summary-banner.warning {\n    background-color: #fae5d3;\n}\n\n.summary-banner.error {\n    background-color: #f5b7b1;\n}\n/* Table with fixed layout */\ntable {\nwidth: 100%;\nborder-collapse: collapse;\nmargin-top: 20px;\nfont-size: 13px; /* Slightly smaller font */\ntable-layout: fixed;\nline-height: 1.2; /* Tighter line height */\n}\n\n.table-container {\nmax-height: 350px;\noverflow-y: auto;\nmargin-bottom: 20px;\noverflow-x: auto;\n-webkit-overflow-scrolling: touch;\n}\n\ntable th:nth-child(1), table td:nth-child(1) { width: 80px; }\ntable th:nth-child(2), table td:nth-child(2) { width: 100px; }\ntable th:nth-child(3), table td:nth-child(3) { width: 150px; }\ntable th:nth-child(4), table td:nth-child(4) { width: 650px; }\ntable th:nth-child(5), table td:nth-child(5) { width: auto; }\n\n/* Cell styling with reduced spacing */\nth, td {\npadding: 2px 8px; /* Minimal vertical padding */\ntext-align: left;\nborder-bottom: 1px solid black;\nvertical-align: middle;\nword-wrap: break-word;\noverflow-wrap: break-word;\nline-height: 1.2; /* Tighter line spacing */\n}\n\n/* Message column with preserved line breaks and word wrapping */\ntable td:nth-child(4) {\ntext-align: left !important; /* Explicitly left-align */\nwhite-space: pre-wrap;\nword-wrap: break-word;\noverflow-wrap: break-word;\nword-break: break-word;\ntext-indent: 0 !important;\n}\n\n/* Headers */\nth {\nbackground-color: #f2f2f2;\nposition: sticky;\ntop: 0;\nz-index: 10;\nwhite-space: nowrap;\n}\n\ntable td:nth-child(4) pre.source-xml {\nfont-family: sans-serif;\nfont-size: inherit;\nwhite-space: pre-wrap;\nword-wrap: break-word;\noverflow-wrap: break-word;\nword-break: break-word;\nbackground-color: transparent;\npadding: 0 !important;\nmargin: 0 !important;\nborder: none;\nborder-radius: 0;\nmax-width: 100%;\noverflow-x: visible;\ndisplay: block; /* Changed from inline to block */\nbox-sizing: border-box;\ntext-indent: 0 !important;\nline-height: 1.2;\n\n/* Additional properties to prevent indentation */\ntext-align: left !important;\n-webkit-text-indent: 0 !important;\n-moz-text-indent: 0 !important;\ntext-decoration: none;\ntext-transform: none;\n}\n\n/* Severity badges */\n.severity-badge {\n    display: inline-block;\n    padding: 4px 8px;\n    border-radius: 4px;\n    font-weight: bold;\n    color: white;\n    margin: 0 3px;\n}\n\n.severity-badge.error {\n    background-color: #b02819;\n}\n\n.severity-badge.warning {\n    background-color: #9c7008;\n}\n\n.severity-badge.info {\n    background-color: #0b68a7;\n}\n\n/* Source XML in table - sans-serif and transparent background */\ntable td pre.source-xml {\n    font-family: sans-serif;\n    font-size: inherit;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    overflow-wrap: break-word;\n    word-break: break-word;\n    background-color: transparent;\n    padding: 0;\n    margin: 0;\n    border: none;\n    border-radius: 0;\n    max-width: 100%;\n    overflow-x: visible;\n    display: inline;\n    box-sizing: border-box;\n    text-indent: 0 !important; /* Remove first-line indent */\n}\n\n/* Source XML outside table (editor box) - monospace */\n.source-xml {\n    font-family: monospace;\n    font-size: inherit;\n    white-space: pre-wrap;\n    word-break: break-all;\n    background-color: #f5f5f5; /* Gray background for editor */\n    padding: 8px;\n    border-radius: 4px;\n    margin: 0;\n    max-width: 100%;\n    overflow-x: auto;\n    overflow-wrap: break-word;\n}\n\n/* Controls */\n.controls {\n    display: flex;\n    justify-content: space-between;\n    margin: 15px 0;\n    padding: 10px;\n    background-color: #f8f9fa;\n    border-radius: 4px;\n}\n\n.filter-controls {\n    display: flex;\n    align-items: center;\n}\n\n.export-controls {\n    display: flex;\n    align-items: center;\n}\n\n.export-button {\n    padding: 5px 10px;\n    background-color: #3498db;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    margin-left: 10px;\n}\n\n.export-button:hover {\n    background-color: #2980b9;\n}\n\n.validation-summary {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 0px;\n    padding: 15px;\n    background-color: #f8f9fa;\n    border-radius: 4px;\n}\n\n.file-info {\n    flex: 1;\n    text-align: left;\n}\n\n.summary-badges {\n    flex: 1;\n    text-align: center;\n}\n\n.timestamp-info {\n    flex: 1;\n    text-align: right;\n}\n\n/* XML Editor styles */\n.editor-container {\n    margin-top: 20px;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n    overflow: hidden;\n}\n\n.editor-header {\n    background-color: #f2f2f2;\n    padding: 10px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border-bottom: 1px solid #ddd;\n}\n\n.editor-title {\n    font-weight: bold;\n    margin: 0;\n}\n\n.editor-actions {\n    display: flex;\n    gap: 10px;\n}\n\n.editor-button {\n    padding: 5px 10px;\n    background-color: #3498db;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n}\n\n.editor-button:hover {\n    background-color: #2980b9;\n}\n\n.editor-body {\n    padding: 0;\n    max-height: 0;\n    overflow: hidden;\n    transition: max-height 0.5s ease;\n    position: relative;\n}\n\n.editor-body.open {\n    max-height: 500px;\n    overflow: visible;\n    display: block;\n}\n\n/* CodeMirror customizations */\n.CodeMirror {\n    height: 500px;\n    font-family: monospace;\n    font-size: 14px;\n    line-height: 1.5;\n}\n\n.editor-body:not(.open) .CodeMirror {\n    display: none;\n}\n\n/* Editor status bar */\n.editor-statusbar {\n    display: flex;\n    justify-content: space-between;\n    background-color: #f0f0f0;\n    padding: 5px 10px;\n    border-top: 1px solid #ddd;\n    font-size: 12px;\n    color: #666;\n}\n\n/* CodeMirror highlighting */\n.CodeMirror-activeline-background {\n    background-color: rgba(255, 140, 0, 0.3);\n}\n\n.cm-matchhighlight {\n    background-color: rgba(255, 140, 0, 0.3);\n}\n\n.CodeMirror-focused .cm-matchhighlight {\n    background-color: rgba(255, 140, 0, 0.5);\n}\n\n.cm-highlight-element {\n  //   background-color: #ffff99;\n    background-color: #FF8C00;\n}\n\n.xpath-highlight {\n    background-color: #FF8C00;\n}\n\n.cm-searching {\nbackground-color: #ffff99; /* Pale yellow for all matches */\n}\n\n.cm-searching.CodeMirror-selectedtext, \n.CodeMirror-focused .cm-searching.CodeMirror-selectedtext {\nbackground-color: #FF8C00 !important; /* Orange for selected match */\n}\n\n.xpath-link {\n    color: #3498db;\n    text-decoration: underline;\n    cursor: pointer;\n}\n\n.xpath-link:hover {\n    color: #2980b9;\n}\n\n/* Tooltip styling with auto width and max-width */\n.tooltip {\n    position: relative;\n    display: inline-block;\n}\n\n.tooltip .tooltiptext {\n    visibility: hidden;\n    width: auto; /* Auto width */\n    max-width: 500px; /* Max width constraint */\n    background-color: #555;\n    color: #fff;\n    text-align: left;\n    border-radius: 6px;\n    padding: 5px 10px;\n    position: absolute;\n    z-index: 50;\n    top: -5px;\n    left: 105%;\n    opacity: 0;\n    transition: opacity 0.3s;\n    white-space: normal;\n    word-wrap: break-word;\n    overflow-wrap: break-word;\n    hyphens: auto;\n}\n\n.tooltip:hover .tooltiptext {\n    visibility: visible;\n    opacity: 1;\n}\n\n/* Dialog styles */\n.dialog-overlay {\n    display: none;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 0.5);\n    z-index: 1000;\n    align-items: center;\n    justify-content: center;\n}\n\n.dialog-container {\n    background-color: white;\n    padding: 20px;\n    border-radius: 8px;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n    width: 500px;\n    max-width: 90%;\n}\n\n.dialog-title {\n    margin-top: 0;\n    margin-bottom: 15px;\n    font-size: 18px;\n    color: #2c3e50;\n}\n\n.dialog-content {\n    margin-bottom: 20px;\n}\n\n.dialog-form-group {\n    margin-bottom: 15px;\n}\n\n.dialog-label {\n    display: block;\n    margin-bottom: 5px;\n    font-weight: bold;\n}\n\n.dialog-input {\n    width: 100%;\n    padding: 8px;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n    box-sizing: border-box;\n}\n\n.dialog-actions {\n    display: flex;\n    justify-content: flex-end;\n    gap: 10px;\n}\n\n.dialog-button {\n    padding: 8px 16px;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n}\n\n.dialog-button-primary {\n    background-color: #3498db;\n    color: white;\n}\n\n.dialog-button-secondary {\n    background-color: #f2f2f2;\n    color: #333;\n}\n\n/* Responsive design */\n@media (max-width: 768px) {\n    .editor-actions {\n        flex-direction: column;\n        gap: 5px;\n    }\n    \n    .CodeMirror {\n        font-size: 12px;\n    }\n}\n        "}]}]}]}]},{"N":"elem","name":"body","sType":"1NE nQ{}body ","nsuri":"","namespaces":"","line":"547","C":[{"N":"sequence","sType":"*NE ","C":[{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"548","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"container"}]},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"550","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"header-container"}]},{"N":"elem","name":"img","sType":"1NE nQ{}img ","nsuri":"","namespaces":"","line":"552","C":[{"N":"sequence","sType":"*NA ","C":[{"N":"att","name":"src","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"https://diggsml.org/def/img/diggs-logo.png"}]},{"N":"att","name":"alt","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"DIGGS Logo"}]},{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"header-logo"}]}]}]},{"N":"elem","name":"h1","sType":"1NE nQ{}h1 ","nsuri":"","namespaces":"","line":"553","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"DIGGS Validation Report"}]}]}]}]},{"N":"let","var":"Q{}errorCount","slot":"0","sType":"*NE ","line":"557","C":[{"N":"fn","name":"count","sType":"1ADI","ns":"= xml=~ xsl=~ xs=~ ","role":"select","line":"557","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"descendant-or-self","nodeTest":"*N"}]},{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{}message"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{}severity"}]},{"N":"str","val":"ERROR"}]}]}]}]}]},{"N":"let","var":"Q{}warningCount","slot":"1","sType":"*NE ","line":"558","C":[{"N":"fn","name":"count","sType":"1ADI","ns":"= xml=~ xsl=~ xs=~ ","role":"select","line":"558","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"descendant-or-self","nodeTest":"*N"}]},{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{}message"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{}severity"}]},{"N":"str","val":"WARNING"}]}]}]}]}]},{"N":"let","var":"Q{}infoCount","slot":"2","sType":"*NE ","line":"559","C":[{"N":"fn","name":"count","sType":"1ADI","ns":"= xml=~ xsl=~ xs=~ ","role":"select","line":"559","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"descendant-or-self","nodeTest":"*N"}]},{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{}message"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{}severity"}]},{"N":"str","val":"INFO"}]}]}]}]}]},{"N":"sequence","sType":"*NE ","C":[{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"561","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"validation-summary"}]},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"562","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"file-info"}]},{"N":"elem","name":"strong","sType":"1NE nQ{}strong ","nsuri":"","namespaces":"","line":"563","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Document: "}]}]},{"N":"elem","name":"span","sType":"1NE nQ{}span ","nsuri":"","namespaces":"","line":"564","C":[{"N":"valueOf","flags":"l","sType":"1NT ","line":"565","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE nQ{}fileName","role":"select","line":"565","C":[{"N":"docOrder","sType":"*NE nQ{}fileName","ns":"= xml=~ xsl=~ xs=~ ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"child","nodeTest":"*NE nQ{}validationReport"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{}fileName"}]}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]}]},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"569","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"summary-badges"}]},{"N":"elem","name":"span","sType":"1NE nQ{}span ","nsuri":"","namespaces":"","line":"570","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"severity-badge error"}]},{"N":"valueOf","flags":"l","sType":"1NT ","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"varRef","sType":"*","name":"Q{}errorCount","slot":"0","ns":"= xml=~ xsl=~ xs=~ ","role":"select","line":"25"}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":" Errors"}]}]}]},{"N":"elem","name":"span","sType":"1NE nQ{}span ","nsuri":"","namespaces":"","line":"571","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"severity-badge warning"}]},{"N":"valueOf","flags":"l","sType":"1NT ","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"varRef","sType":"*","name":"Q{}warningCount","slot":"1","ns":"= xml=~ xsl=~ xs=~ ","role":"select","line":"27"}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\n                Warnings"}]}]}]},{"N":"elem","name":"span","sType":"1NE nQ{}span ","nsuri":"","namespaces":"","line":"573","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"severity-badge info"}]},{"N":"valueOf","flags":"l","sType":"1NT ","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"varRef","sType":"*","name":"Q{}infoCount","slot":"2","ns":"= xml=~ xsl=~ xs=~ ","role":"select","line":"29"}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":" Info"}]}]}]}]}]},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"576","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"timestamp-info"}]},{"N":"elem","name":"strong","sType":"1NE nQ{}strong ","nsuri":"","namespaces":"","line":"577","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Timestamp: "}]}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"578","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE nQ{}timestamp","role":"select","line":"578","C":[{"N":"docOrder","sType":"*NE nQ{}timestamp","ns":"= xml=~ xsl=~ xs=~ ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"child","nodeTest":"*NE nQ{}validationReport"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{}timestamp"}]}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]}]}]},{"N":"let","var":"Q{}summaryClass","slot":"3","sType":"*NE ","line":"583","C":[{"N":"doc","sType":"1ND ","base":"file:///workspaces/def/docs/validation/validation-report-html.xsl","role":"select","C":[{"N":"choose","sType":"?NT ","type":"item()*","line":"584","C":[{"N":"gc","op":">","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ xsl=~ xs=~ ","line":"585","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}errorCount","slot":"0"}]},{"N":"int","val":"0"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"error"}]},{"N":"gc","op":">","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ xsl=~ xs=~ ","line":"586","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}warningCount","slot":"1"}]},{"N":"int","val":"0"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"warning"}]},{"N":"gc","op":">","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ xsl=~ xs=~ ","line":"587","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}infoCount","slot":"2"}]},{"N":"int","val":"0"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"info"}]},{"N":"true"},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"success"}]}]}]},{"N":"let","var":"Q{}summaryMessage","slot":"4","sType":"*NE ","line":"592","C":[{"N":"doc","sType":"1ND ","base":"file:///workspaces/def/docs/validation/validation-report-html.xsl","role":"select","C":[{"N":"choose","sType":"?NT ","type":"item()*","line":"593","C":[{"N":"gc","op":">","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ xsl=~ xs=~ ","line":"594","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}errorCount","slot":"0"}]},{"N":"int","val":"0"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Result: Fail. Correct errors and rescan."}]},{"N":"gc","op":">","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ xsl=~ xs=~ ","line":"595","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}warningCount","slot":"1"}]},{"N":"int","val":"0"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Result: Possible Errors. Address Warnings to\n                complete validation."}]},{"N":"gc","op":">","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ xsl=~ xs=~ ","line":"597","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}infoCount","slot":"2"}]},{"N":"int","val":"0"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Result: Success! Please review INFO\n                messages."}]},{"N":"true"},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Result: Success! No issues detected."}]}]}]},{"N":"sequence","sType":"?NE ","C":[{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"603","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"fn","name":"concat","sType":"1AS ","C":[{"N":"str","sType":"1AS ","val":"summary-banner "},{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"*","C":[{"N":"varRef","name":"Q{}summaryClass","slot":"3","sType":"*","ns":"= xml=~ xsl=~ xs=~ ","line":"603"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]},{"N":"str","sType":"1AS ","val":""}]}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"604","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"varRef","sType":"*","name":"Q{}summaryMessage","slot":"4","ns":"= xml=~ xsl=~ xs=~ ","role":"select","line":"604"}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"607","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"controls"}]},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"608","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"filter-controls"}]},{"N":"elem","name":"label","sType":"1NE nQ{}label ","nsuri":"","namespaces":"","line":"609","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"for","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"severity-filter"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Filter by severity:"}]}]}]},{"N":"elem","name":"select","sType":"1NE nQ{}select ","nsuri":"","namespaces":"","line":"610","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"id","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"severity-filter"}]},{"N":"elem","name":"option","sType":"1NE nQ{}option ","nsuri":"","namespaces":"","line":"611","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"value","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"all"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"All"}]}]}]},{"N":"elem","name":"option","sType":"1NE nQ{}option ","nsuri":"","namespaces":"","line":"612","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"value","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"error"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Errors"}]}]}]},{"N":"elem","name":"option","sType":"1NE nQ{}option ","nsuri":"","namespaces":"","line":"613","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"value","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"warning"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Warnings"}]}]}]},{"N":"elem","name":"option","sType":"1NE nQ{}option ","nsuri":"","namespaces":"","line":"614","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"value","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"info"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Info"}]}]}]}]}]}]}]},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"618","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"export-controls"}]},{"N":"elem","name":"button","sType":"1NE nQ{}button ","nsuri":"","namespaces":"","line":"619","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"id","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"export-csv"}]},{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"export-button"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Export to CSV"}]}]}]}]}]}]}]},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"623","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"table-container"}]},{"N":"elem","name":"table","sType":"1NE nQ{}table ","nsuri":"","namespaces":"","line":"624","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"id","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"validation-table"}]},{"N":"elem","name":"thead","sType":"1NE nQ{}thead ","nsuri":"","namespaces":"","line":"625","C":[{"N":"elem","name":"tr","sType":"1NE nQ{}tr ","nsuri":"","namespaces":"","line":"626","C":[{"N":"sequence","sType":"*NE ","C":[{"N":"elem","name":"th","sType":"1NE nQ{}th ","nsuri":"","namespaces":"","line":"627","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Severity"}]}]},{"N":"elem","name":"th","sType":"1NE nQ{}th ","nsuri":"","namespaces":"","line":"628","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Location"}]}]},{"N":"elem","name":"th","sType":"1NE nQ{}th ","nsuri":"","namespaces":"","line":"629","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Validation Check"}]}]},{"N":"elem","name":"th","sType":"1NE nQ{}th ","nsuri":"","namespaces":"","line":"630","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Message"}]}]},{"N":"elem","name":"th","sType":"1NE nQ{}th ","nsuri":"","namespaces":"","line":"631","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Element Value"}]}]}]}]}]},{"N":"elem","name":"tbody","sType":"1NE nQ{}tbody ","nsuri":"","namespaces":"","line":"634","C":[{"N":"forEach","sType":"*NE ","line":"635","C":[{"N":"docOrder","sType":"*NE nQ{}message","role":"select","line":"635","C":[{"N":"slash","op":"/","sType":"*NE nQ{}message","ns":"= xml=~ xsl=~ xs=~ ","C":[{"N":"root"},{"N":"axis","name":"descendant","nodeTest":"*NE nQ{}message"}]}]},{"N":"let","var":"Q{}severityClass","slot":"5","sType":"*NE ","line":"636","C":[{"N":"doc","sType":"1ND ","base":"file:///workspaces/def/docs/validation/validation-report-html.xsl","role":"select","C":[{"N":"choose","sType":"?NT ","type":"item()*","line":"637","C":[{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ xsl=~ xs=~ ","line":"638","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{}severity"}]},{"N":"str","val":"ERROR"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"error"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ xsl=~ xs=~ ","line":"639","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{}severity"}]},{"N":"str","val":"WARNING"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"warning"}]},{"N":"true"},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"info"}]}]}]},{"N":"elem","name":"tr","sType":"1NE nQ{}tr ","nsuri":"","namespaces":"","line":"644","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"*","C":[{"N":"varRef","name":"Q{}severityClass","slot":"5","sType":"*","ns":"= xml=~ xsl=~ xs=~ ","line":"644"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"elem","name":"td","sType":"1NE nQ{}td ","nsuri":"","namespaces":"","line":"645","C":[{"N":"elem","name":"span","sType":"1NE nQ{}span ","nsuri":"","namespaces":"","line":"646","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"fn","name":"concat","sType":"1AS ","C":[{"N":"str","sType":"1AS ","val":"severity-badge "},{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"*","C":[{"N":"varRef","name":"Q{}severityClass","slot":"5","sType":"*","ns":"= xml=~ xsl=~ xs=~ ","line":"646"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]},{"N":"str","sType":"1AS ","val":""}]}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"647","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"axis","sType":"*NE nQ{}severity","name":"child","nodeTest":"*NE nQ{}severity","ns":"= xml=~ xsl=~ xs=~ ","role":"select","line":"647"}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]}]},{"N":"elem","name":"td","sType":"1NE nQ{}td ","nsuri":"","namespaces":"","line":"650","C":[{"N":"choose","sType":"? ","line":"651","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{}elementPath","sType":"*NE nQ{}elementPath","ns":"= xml=~ xsl=~ xs=~ ","line":"651"},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"652","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"tooltip"}]},{"N":"elem","name":"span","sType":"1NE nQ{}span ","nsuri":"","namespaces":"","line":"653","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"xpath-link"}]},{"N":"att","name":"data-xpath","nsuri":"","sType":"1NA ","C":[{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"*NE nQ{}elementPath","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{}elementPath","sType":"*NE nQ{}elementPath","ns":"= xml=~ xsl=~ xs=~ ","line":"653"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":" View Element "}]}]}]},{"N":"elem","name":"span","sType":"1NE nQ{}span ","nsuri":"","namespaces":"","line":"654","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"tooltiptext"}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"655","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"axis","sType":"*NE nQ{}elementPath","name":"child","nodeTest":"*NE nQ{}elementPath","ns":"= xml=~ xsl=~ xs=~ ","role":"select","line":"655"}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]}]}]},{"N":"true"},{"N":"empty","sType":"0 "}]}]},{"N":"elem","name":"td","sType":"1NE nQ{}td ","nsuri":"","namespaces":"","line":"660","C":[{"N":"valueOf","flags":"l","sType":"1NT ","line":"661","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE nQ{}step","role":"select","line":"661","C":[{"N":"slash","op":"/","sType":"*NE nQ{}step","ns":"= xml=~ xsl=~ xs=~ ","C":[{"N":"axis","name":"parent","nodeTest":"?N"},{"N":"axis","name":"child","nodeTest":"*NE nQ{}step"}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]},{"N":"elem","name":"td","sType":"1NE nQ{}td ","nsuri":"","namespaces":"","line":"663","C":[{"N":"elem","name":"pre","sType":"1NE nQ{}pre ","nsuri":"","namespaces":"","line":"664","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"source-xml"}]},{"N":"valueOf","flags":"l","sType":"1NT ","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"axis","sType":"*NE nQ{}text","name":"child","nodeTest":"*NE nQ{}text","ns":"= xml=~ xsl=~ xs=~ ","role":"select","line":"87"}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]}]},{"N":"elem","name":"td","sType":"1NE nQ{}td ","nsuri":"","namespaces":"","line":"666","C":[{"N":"elem","name":"pre","sType":"1NE nQ{}pre ","nsuri":"","namespaces":"","line":"667","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"source-xml"}]},{"N":"valueOf","flags":"l","sType":"1NT ","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"fn","name":"normalize-space","sType":"1AS","ns":"= xml=~ xsl=~ xs=~ ","role":"select","line":"90","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||normalize-space","C":[{"N":"check","card":"?","diag":"0|0||normalize-space","C":[{"N":"data","diag":"0|0||normalize-space","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{}source"}]}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"676","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"editor-container"}]},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"677","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"editor-header"}]},{"N":"elem","name":"h3","sType":"1NE nQ{}h3 ","nsuri":"","namespaces":"","line":"678","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"editor-title"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"XML Editor"}]}]}]},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"679","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"editor-actions"}]},{"N":"elem","name":"button","sType":"1NE nQ{}button ","nsuri":"","namespaces":"","line":"680","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"editor-button"}]},{"N":"att","name":"id","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"toggle-editor"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Show/Hide Editor"}]}]}]},{"N":"elem","name":"button","sType":"1NE nQ{}button ","nsuri":"","namespaces":"","line":"681","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"editor-button"}]},{"N":"att","name":"id","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"save-xml"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Save XML"}]}]}]},{"N":"elem","name":"button","sType":"1NE nQ{}button ","nsuri":"","namespaces":"","line":"682","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"editor-button"}]},{"N":"att","name":"id","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"format-xml"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Format XML"}]}]}]},{"N":"elem","name":"button","sType":"1NE nQ{}button ","nsuri":"","namespaces":"","line":"683","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"editor-button"}]},{"N":"att","name":"id","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"find-xml"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Find"}]}]}]}]}]}]}]},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"687","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"editor-body"}]},{"N":"att","name":"id","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"editor-body"}]},{"N":"elem","name":"textarea","sType":"1NE nQ{}textarea ","nsuri":"","namespaces":"","line":"689","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"id","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"xml-editor"}]},{"N":"att","name":"style","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"display: none;"}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"690","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"docOrder","sType":"*NE nQ{}originalXml","role":"select","line":"690","C":[{"N":"docOrder","sType":"*NE nQ{}originalXml","ns":"= xml=~ xsl=~ xs=~ ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"child","nodeTest":"*NE nQ{}validationReport"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{}originalXml"}]}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]}]}]},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"695","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"editor-statusbar"}]},{"N":"att","name":"id","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"editor-statusbar"}]},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"696","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"id","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"cursor-position"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Line: 1, Column: 1"}]}]}]},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"697","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"id","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"xml-info"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"XML Mode"}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"703","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"id","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"save-file-dialog"}]},{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"dialog-overlay"}]},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"704","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"dialog-container"}]},{"N":"elem","name":"h3","sType":"1NE nQ{}h3 ","nsuri":"","namespaces":"","line":"705","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"dialog-title"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Save XML File"}]}]}]},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"706","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"dialog-content"}]},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"707","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"dialog-form-group"}]},{"N":"elem","name":"label","sType":"1NE nQ{}label ","nsuri":"","namespaces":"","line":"708","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"for","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"file-name"}]},{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"dialog-label"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"File name:"}]}]}]},{"N":"elem","name":"input","sType":"1NE nQ{}input ","nsuri":"","namespaces":"","line":"709","C":[{"N":"sequence","sType":"*NA ","C":[{"N":"att","name":"type","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"text"}]},{"N":"att","name":"id","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"file-name"}]},{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"dialog-input"}]}]}]}]}]},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"712","C":[{"N":"sequence","sType":"*NA ","C":[{"N":"att","name":"id","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"save-error-message"}]},{"N":"att","name":"style","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"color: #e74c3c; margin-top: 10px; display: none;"}]}]}]}]}]},{"N":"elem","name":"div","sType":"1NE nQ{}div ","nsuri":"","namespaces":"","line":"714","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"dialog-actions"}]},{"N":"elem","name":"button","sType":"1NE nQ{}button ","nsuri":"","namespaces":"","line":"715","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"id","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"cancel-save"}]},{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"dialog-button dialog-button-secondary"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Cancel"}]}]}]},{"N":"elem","name":"button","sType":"1NE nQ{}button ","nsuri":"","namespaces":"","line":"716","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"id","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"confirm-save"}]},{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"dialog-button dialog-button-primary"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Save"}]}]}]}]}]}]}]}]}]},{"N":"elem","name":"script","sType":"1NE nQ{}script ","nsuri":"","namespaces":"","line":"722","C":[{"N":"att","name":"src","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.js"}]}]},{"N":"elem","name":"script","sType":"1NE nQ{}script ","nsuri":"","namespaces":"","line":"723","C":[{"N":"att","name":"src","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/mode/xml/xml.min.js"}]}]},{"N":"elem","name":"script","sType":"1NE nQ{}script ","nsuri":"","namespaces":"","line":"724","C":[{"N":"att","name":"src","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/edit/matchbrackets.min.js"}]}]},{"N":"elem","name":"script","sType":"1NE nQ{}script ","nsuri":"","namespaces":"","line":"725","C":[{"N":"att","name":"src","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/fold/xml-fold.min.js"}]}]},{"N":"elem","name":"script","sType":"1NE nQ{}script ","nsuri":"","namespaces":"","line":"726","C":[{"N":"att","name":"src","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/edit/matchtags.min.js"}]}]},{"N":"elem","name":"script","sType":"1NE nQ{}script ","nsuri":"","namespaces":"","line":"727","C":[{"N":"att","name":"src","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/selection/active-line.min.js"}]}]},{"N":"elem","name":"script","sType":"1NE nQ{}script ","nsuri":"","namespaces":"","line":"728","C":[{"N":"att","name":"src","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/search/search.min.js"}]}]},{"N":"elem","name":"script","sType":"1NE nQ{}script ","nsuri":"","namespaces":"","line":"729","C":[{"N":"att","name":"src","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/search/searchcursor.min.js"}]}]},{"N":"elem","name":"script","sType":"1NE nQ{}script ","nsuri":"","namespaces":"","line":"730","C":[{"N":"att","name":"src","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/search/jump-to-line.min.js"}]}]},{"N":"elem","name":"script","sType":"1NE nQ{}script ","nsuri":"","namespaces":"","line":"731","C":[{"N":"att","name":"src","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/search/match-highlighter.min.js"}]}]},{"N":"elem","name":"script","sType":"1NE nQ{}script ","nsuri":"","namespaces":"","line":"732","C":[{"N":"att","name":"src","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/dialog/dialog.min.js"}]}]},{"N":"elem","name":"script","sType":"1NE nQ{}script ","nsuri":"","namespaces":"","line":"733","C":[{"N":"att","name":"src","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/fold/foldcode.min.js"}]}]},{"N":"elem","name":"script","sType":"1NE nQ{}script ","nsuri":"","namespaces":"","line":"734","C":[{"N":"att","name":"src","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/fold/foldgutter.min.js"}]}]},{"N":"elem","name":"script","sType":"1NE nQ{}script ","nsuri":"","namespaces":"","line":"735","C":[{"N":"att","name":"src","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/display/placeholder.min.js"}]}]},{"N":"elem","name":"script","sType":"1NE nQ{}script ","nsuri":"","namespaces":"","line":"738","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"\n        \n        // Ensure DOM is fully loaded before accessing elements\n        document.addEventListener('DOMContentLoaded', function() {\n          console.log('DOM content loaded - initializing JavaScript');\n          \n          // CodeMirror instance variable, make it globally accessible\n          let codeMirror = null;\n          let editorInitialized = false;\n          \n          // Function to filter table rows by severity\n          function filterBySeverity(severity) {\n            const table = document.getElementById('validation-table');\n            if (!table) {\n              console.error('Validation table not found');\n              return;\n            }\n            \n            const tbody = table.getElementsByTagName('tbody')[0];\n            if (!tbody) {\n              console.error('Table body not found');\n              return;\n            }\n            \n            const rows = tbody.getElementsByTagName('tr');\n            \n            for (let i = 0; i < rows.length; i++) {\n              const row = rows[i];\n              if (severity === 'all') {\n                row.style.display = '';\n              } else {\n                const severityCell = row.getElementsByTagName('td')[0];\n                if (!severityCell) continue;\n                \n                const badge = severityCell.querySelector('.severity-badge');\n                if (!badge) continue;\n                \n                const severityText = badge.textContent.trim().toLowerCase();\n                \n                if (severityText === severity) {\n                  row.style.display = '';\n                } else {\n                  row.style.display = 'none';\n                }\n              }\n            }\n          }\n          \n          // Set up the severity filter dropdown\n          const severityFilter = document.getElementById('severity-filter');\n          if (severityFilter) {\n            severityFilter.addEventListener('change', function() {\n              filterBySeverity(this.value);\n            });\n          } else {\n            console.error('Severity filter dropdown not found');\n          }\n          \n          // Initialize CodeMirror editor\n          function initCodeMirror() {\n            // If already initialized, just refresh\n            if (editorInitialized && codeMirror) {\n              codeMirror.refresh();\n              return codeMirror;\n            }\n            \n            const editor = document.getElementById('xml-editor');\n            if (!editor) {\n              console.error('XML editor element not found');\n              return null;\n            }\n            \n            try {\n              // Create CodeMirror instance\n              codeMirror = CodeMirror.fromTextArea(editor, {\n                mode: 'application/xml', // XML mode\n                lineNumbers: true, // Show line numbers\n                matchBrackets: true, // Highlight matching brackets\n                autoCloseTags: true, // Auto-close tags\n                matchTags: {bothTags: true}, // Highlight matching tags\n                indentUnit: 4, // Indentation unit is 4 spaces\n                tabSize: 4, // Tab size is 4 spaces\n                smartIndent: true, // Smart indentation\n                lineWrapping: true, // Wrap long lines\n                theme: 'eclipse', // Use the Eclipse theme\n                styleActiveLine: true, // Highlight active line\n                foldGutter: true, // Code folding\n                gutters: [\"CodeMirror-linenumbers\", \"CodeMirror-foldgutter\"],\n                extraKeys: {\n                  \"Ctrl-Space\": \"autocomplete\", // Enable autocomplete\n                  \"Ctrl-Q\": function(cm) { cm.foldCode(cm.getCursor()); }, // Fold code\n                  \"Ctrl-F\": \"findPersistent\", // Find functionality\n                  \"Tab\": function(cm) {\n                    // Insert spaces instead of tab character\n                    const spaces = Array(cm.getOption(\"indentUnit\") + 1).join(\" \");\n                    cm.replaceSelection(spaces);\n                  }\n                }\n              });\n              \n              // Update cursor position in status bar\n              codeMirror.on('cursorActivity', function() {\n                updateCursorPosition();\n              });\n              \n              // Mark initialization as successful\n              editorInitialized = true;\n              \n              // Ensure CodeMirror is refreshed when shown\n              setTimeout(function() {\n                if (codeMirror) {\n                  codeMirror.refresh();\n                  console.log('CodeMirror refreshed');\n                }\n              }, 100);\n              \n              return codeMirror;\n            } catch (error) {\n              console.error('Error initializing CodeMirror:', error);\n              alert('Error initializing the XML editor. Fall back to basic editor functionality.');\n              return null;\n            }\n          }\n          \n          // Update cursor position in status bar\n          function updateCursorPosition() {\n            if (!codeMirror) return;\n            \n            const cursorPosition = document.getElementById('cursor-position');\n            if (!cursorPosition) return;\n            \n            const cursor = codeMirror.getCursor();\n            cursorPosition.textContent = `Line: ${cursor.line + 1}, Column: ${cursor.ch + 1}`;\n          }\n          \n          // Format XML function\n          function formatXml() {\n            if (!codeMirror) return;\n            \n            try {\n              // Get the current XML content\n              let xmlContent = codeMirror.getValue();\n              \n              // Basic XML formatting function\n              function prettyPrint(xml) {\n                let formatted = '';\n                let indent = '';\n                const tab = '  '; // 2 spaces for indentation\n                \n                xml = xml.replace(/(>)(<)(\\/*)/g, '$1\\n$2$3'); // Add line breaks\n                \n                const lines = xml.split('\\n');\n                \n                lines.forEach(line => {\n                  // Skip blank lines\n                  if (line.trim() === '') return;\n                  \n                  const match = line.match(/^.*<(\\/*)(.*?)(\\s.*)?>/);\n                  \n                  if (match) {\n                    const closing = match[1];\n                    const opening = line.match(/<.*?>/g).length - (line.match(/<\\/.*/g)?.length || 0);\n                    \n                    if (closing) {\n                      // This is a closing tag, reduce indent\n                      indent = indent.substring(tab.length);\n                    }\n                    \n                    // Add the line with proper indentation\n                    formatted += indent + line.trim() + '\\n';\n                    \n                    if (!closing && opening === 1) {\n                      // This is an opening tag, increase indent\n                      indent += tab;\n                    }\n                  } else {\n                    // This is content or a non-standard line, just add it with current indent\n                    formatted += indent + line.trim() + '\\n';\n                  }\n                });\n                \n                return formatted.trim();\n              }\n              \n              // Format the XML\n              const formattedXml = prettyPrint(xmlContent);\n              \n              // Update CodeMirror with formatted XML\n              codeMirror.setValue(formattedXml);\n              \n              // Put cursor at the beginning\n              codeMirror.setCursor(0, 0);\n              \n              console.log('XML formatted successfully');\n            } catch (error) {\n              console.error('Error formatting XML:', error);\n              alert('There was an error formatting the XML. Please check if your XML is valid.');\n            }\n          }\n          \n          // Toggle CodeMirror editor visibility\n          function toggleEditor() {\n            const editorBody = document.getElementById('editor-body');\n            if (!editorBody) {\n              console.error('Editor body not found');\n              return;\n            }\n            \n            // Toggle the open class\n            editorBody.classList.toggle('open');\n            \n            // Initialize or refresh CodeMirror when opening\n            if (editorBody.classList.contains('open')) {\n              if (!editorInitialized) {\n                // First time initialization\n                codeMirror = initCodeMirror();\n              } else {\n                // Refresh to ensure proper rendering\n                setTimeout(() => {\n                  if (codeMirror) {\n                    codeMirror.refresh();\n                  }\n                }, 10);\n              }\n            }\n            \n            console.log('Editor toggled, open state:', editorBody.classList.contains('open'));\n          }\n          \n          // Function to find text in CodeMirror\n          function findInEditor() {\n            if (!codeMirror) {\n              // If editor is not initialized or visible, show it first\n              const editorBody = document.getElementById('editor-body');\n              if (editorBody && !editorBody.classList.contains('open')) {\n                toggleEditor();\n                \n                // Wait for editor to be fully initialized\n                setTimeout(() => {\n                  if (codeMirror) {\n                    codeMirror.execCommand('findPersistent');\n                  }\n                }, 200);\n                return;\n              }\n              return;\n            }\n            \n            // Use CodeMirror's built-in search functionality\n            codeMirror.execCommand('findPersistent');\n          }\n          \n          // Function to find and highlight XML element by XPath\n          function findElementByXPath(xpath) {\n            console.log('Finding element with XPath:', xpath);\n            \n            // First make sure editor is open and initialized\n            const editorBody = document.getElementById('editor-body');\n            if (!editorBody) {\n              console.error('Editor body not found');\n              return false;\n            }\n            \n            // If editor is not already open, open it first\n            if (!editorBody.classList.contains('open')) {\n              console.log('Opening editor for XPath navigation');\n              editorBody.classList.add('open');\n              \n              // Initialize CodeMirror if needed and then process XPath\n              setTimeout(() => {\n                // Initialize if needed\n                if (!editorInitialized || !codeMirror) {\n                  codeMirror = initCodeMirror();\n                } else {\n                  codeMirror.refresh();\n                }\n                \n                // Now that editor is initialized, find the element\n                setTimeout(() => {\n                  processXPathNavigation(xpath);\n                }, 200);\n              }, 100);\n              \n              return true;\n            } else {\n              // Editor is already open, just find the element\n              if (!editorInitialized || !codeMirror) {\n                codeMirror = initCodeMirror();\n              }\n              \n              // Find the element directly\n              return processXPathNavigation(xpath);\n            }\n          }\n          \n          // Helper function to process XPath navigation once editor is ready\n          function processXPathNavigation(xpath) {\n            if (!codeMirror) {\n              console.error('CodeMirror not initialized');\n              return false;\n            }\n            \n            // Parse the XPath to handle position indicators\n            const xmlContent = codeMirror.getValue();\n            const xpathParts = xpath.split('/').filter(part => part.length > 0);\n            \n            let searchPos = 0;\n            let foundElement = false;\n            \n            for (let i = 0; i < xpathParts.length; i++) {\n              const part = xpathParts[i];\n              const tagName = part.replace(/\\[\\d+\\]$/, '');\n              const positionMatch = part.match(/\\[(\\d+)\\]$/);\n              const position = positionMatch ? parseInt(positionMatch[1]) : 1;\n              \n              // Find the nth occurrence of the tag\n              let count = 0;\n              let tagPos = -1;\n              let match;\n              const tagRegex = new RegExp('<' + tagName + '(?:\\\\s|/|>)', 'g');\n              \n              while ((match = tagRegex.exec(xmlContent.substring(searchPos))) !== null && count < position) {\n                count++;\n                tagPos = searchPos + match.index;\n                \n                if (count === position) {\n                  searchPos = tagPos;\n                  \n                  // If this is the last part of the xpath, we've found our element\n                  if (i === xpathParts.length - 1) {\n                    foundElement = true;\n                  }\n                  break;\n                }\n              }\n              \n              // If we couldn't find the required occurrence, break\n              if (count < position) {\n                break;\n              }\n            }\n            \n            if (foundElement) {\n              console.log('Element found, determining boundaries');\n              // Find the closing tag to determine element boundaries\n              const lastPart = xpathParts[xpathParts.length - 1];\n              const elementName = lastPart.replace(/\\[\\d+\\]$/, '');\n              \n              let depth = 1;\n              let endPos = searchPos;\n              \n              // Search for closing tag, considering nesting\n              for (let i = searchPos + 1; i < xmlContent.length && depth > 0; i++) {\n                // Check for opening tag\n                if (xmlContent.substring(i, i + elementName.length + 1).indexOf('<' + elementName) === 0) {\n                  // Make sure it's a tag and not part of text\n                  const nextChar = xmlContent.charAt(i + elementName.length + 1);\n                  if (nextChar === ' ' || nextChar === '/' || nextChar === '>') {\n                    depth++;\n                  }\n                }\n                // Check for closing tag\n                else if (xmlContent.substring(i, i + elementName.length + 2).indexOf('</' + elementName) === 0) {\n                  depth--;\n                  if (depth === 0) {\n                    // Find the end of the closing tag\n                    const closeTagEnd = xmlContent.indexOf('>', i);\n                    if (closeTagEnd !== -1) {\n                      endPos = closeTagEnd + 1; // Length of '>'\n                    }\n                    break;\n                  }\n                }\n              }\n              \n              console.log('Setting CodeMirror selection');\n              \n              // Convert positions to line and character positions for CodeMirror\n              const startPos = codeMirror.posFromIndex(searchPos);\n              const endPosition = codeMirror.posFromIndex(endPos);\n              \n              // Select the element in CodeMirror\n              codeMirror.setSelection(startPos, endPosition);\n              \n              // Scroll to make the selection visible\n              const middleLine = Math.floor((startPos.line + endPosition.line) / 2);\n              codeMirror.scrollIntoView({line: middleLine, ch: 0}, 100);\n              \n              // Add background highlight to the selected area\n              const marker = codeMirror.markText(startPos, endPosition, {\n                className: 'xpath-highlight'\n              });\n              \n              // Remove highlight after a few seconds\n              setTimeout(() => {\n                if (marker) marker.clear();\n              }, 3000);\n              \n              console.log('Element highlighted in editor');\n              return true;\n            } else {\n              console.log('Element not found in XML content');\n              alert('Could not find the specified element. The XML structure may have changed.');\n              return false;\n            }\n          }\n          \n          // Helper function for direct file download\n          function downloadFile(content, filename, mimeType) {\n            try {\n              const blob = new Blob([content], { type: mimeType });\n              const url = URL.createObjectURL(blob);\n              \n              const a = document.createElement('a');\n              a.href = url;\n              a.download = filename;\n              document.body.appendChild(a);\n              a.click();\n              document.body.removeChild(a);\n              \n              URL.revokeObjectURL(url);\n              console.log('File downloaded via direct method');\n              \n              return true;\n            } catch (err) {\n              console.error('Error in download:', err);\n              alert('Could not download the file: ' + err.message);\n              return false;\n            }\n          }\n          \n          // Function to generate CSV content from the table\n          function generateCsvContent() {\n            const table = document.getElementById('validation-table');\n            if (!table) {\n              console.error('Validation table not found');\n              return '';\n            }\n            \n            const rows = table.querySelectorAll('tr');\n            if (rows.length === 0) {\n              console.error('No rows found in validation table');\n              return '';\n            }\n            \n            let csv = [];\n            \n            // Get headers\n            const headers = [];\n            const headerCells = rows[0].querySelectorAll('th');\n            headerCells.forEach(cell => {\n              headers.push('\"' + cell.textContent.trim() + '\"');\n            });\n            csv.push(headers.join(','));\n            \n            // Get table data\n            for (let i = 1; i < rows.length; i++) {\n              // Skip hidden rows (filtered out)\n              if (rows[i].style.display === 'none') continue;\n              \n              const row = rows[i];\n              const cells = row.querySelectorAll('td');\n              const rowData = [];\n              \n              cells.forEach((cell, index) => {\n                // Special case for severity column - extract text from badge\n                if (index === 0) {\n                  const badge = cell.querySelector('.severity-badge');\n                  if (badge) {\n                    rowData.push('\"' + badge.textContent.trim() + '\"');\n                  } else {\n                    rowData.push('\"\"');\n                  }\n                } \n                // Special case for location column - extract path from tooltip\n                else if (index === 1 && cell.querySelector('.tooltip')) {\n                  const tooltip = cell.querySelector('.tooltiptext');\n                  rowData.push('\"' + (tooltip ? tooltip.textContent.trim() : '') + '\"');\n                }\n                // Element value column - extract text without HTML\n                else if (index === 4) {\n                  const preElement = cell.querySelector('pre');\n                  rowData.push('\"' + (preElement ? preElement.textContent.replace(/\"/g, '\"\"') : '') + '\"');\n                }\n                // Regular columns\n                else {\n                  rowData.push('\"' + cell.textContent.trim().replace(/\"/g, '\"\"') + '\"');\n                }\n              });\n              \n              csv.push(rowData.join(','));\n            }\n            \n            return csv.join('\\n');\n          }\n          \n          // Function to directly save XML file using File System Access API\n          async function saveXmlDirectly() {\n            try {\n              // Make sure editor is initialized\n              if (!editorInitialized) {\n                console.error('Editor not initialized');\n                alert('Please open the editor first.');\n                return;\n              }\n              \n              if (!codeMirror) {\n                console.error('CodeMirror editor not initialized');\n                return;\n              }\n              \n              // Get original filename and prepare default save name\n              const fileInfoSpan = document.querySelector('.file-info span');\n              if (!fileInfoSpan) {\n                console.error('File info span not found');\n                alert('Error: Could not find file info element');\n                return;\n              }\n              \n              const originalFileName = fileInfoSpan.textContent.trim();\n              let suggestedName = 'edited_' + originalFileName;\n              \n              // Make sure extension is either .xml or .diggs\n              if (!suggestedName.endsWith('.xml') && !suggestedName.endsWith('.diggs')) {\n                suggestedName += '.xml';\n              }\n              \n              // Get XML content from CodeMirror\n              const xmlContent = codeMirror.getValue();\n              \n              // Try to use File System Access API\n              if ('showSaveFilePicker' in window) {\n                try {\n                  console.log('Attempting to use File System Access API directly');\n                  \n                  const opts = {\n                    suggestedName: suggestedName,\n                    types: [{\n                      description: 'XML Files',\n                      accept: {\n                        'application/xml': ['.xml', '.diggs']\n                      }\n                    }]\n                  };\n                  \n                  // Show file picker dialog directly\n                  const fileHandle = await window.showSaveFilePicker(opts);\n                  console.log('File handle obtained:', fileHandle);\n                  \n                  // Create a writable stream\n                  const writable = await fileHandle.createWritable();\n                  console.log('Writable stream created');\n                  \n                  // Write the content\n                  await writable.write(xmlContent);\n                  console.log('Content written');\n                  \n                  // Close the stream\n                  await writable.close();\n                  console.log('File saved successfully');\n                  \n                  return true;\n                } catch (err) {\n                  console.error('Error using File System Access API:', err);\n                  \n                  // If user cancelled, just return\n                  if (err.name === 'AbortError') {\n                    console.log('User cancelled the file save operation');\n                    return false;\n                  }\n                  \n                  // Fall back to direct download without dialog\n                  console.log('Falling back to direct download');\n                  downloadFile(xmlContent, suggestedName, 'application/xml');\n                }\n              } else {\n                // Fall back to direct download without dialog\n                console.log('File System Access API not supported, using direct download');\n                downloadFile(xmlContent, suggestedName, 'application/xml');\n              }\n            } catch (err) {\n              console.error('Error in direct save operation:', err);\n              alert('Error saving file: ' + err.message);\n            }\n          }\n          \n          // Function to directly save CSV file using File System Access API or direct download\n          async function saveCsvDirectly() {\n            try {\n              // Get original filename and prepare default save name\n              const fileInfoSpan = document.querySelector('.file-info span');\n              if (!fileInfoSpan) {\n                console.error('File info span not found');\n                alert('Error: Could not find file info element');\n                return;\n              }\n              \n              const originalFileName = fileInfoSpan.textContent.trim();\n              let suggestedName = originalFileName + '_validation_report.csv';\n              \n              // Make sure extension is csv\n              if (!suggestedName.endsWith('.csv')) {\n                suggestedName += '.csv';\n              }\n              \n              // Get CSV content\n              const csvData = generateCsvContent();\n              if (!csvData || csvData.length === 0) {\n                console.error('Failed to generate CSV content');\n                alert('Error: Failed to generate CSV content. No data available.');\n                return;\n              }\n              \n              console.log('CSV Data generated:', csvData.substring(0, 100) + '...');\n              \n              // Try to use File System Access API\n              if ('showSaveFilePicker' in window) {\n                try {\n                  console.log('Attempting to use File System Access API directly for CSV');\n                  \n                  const opts = {\n                    suggestedName: suggestedName,\n                    types: [{\n                      description: 'CSV Files',\n                      accept: {\n                        'text/csv': ['.csv']\n                      }\n                    }]\n                  };\n                  \n                  // Show file picker dialog directly\n                  const fileHandle = await window.showSaveFilePicker(opts);\n                  console.log('CSV file handle obtained:', fileHandle);\n                  \n                  // Create a writable stream\n                  const writable = await fileHandle.createWritable();\n                  console.log('CSV writable stream created');\n                  \n                  // Write the content\n                  await writable.write(csvData);\n                  console.log('CSV content written');\n                  \n                  // Close the stream\n                  await writable.close();\n                  console.log('CSV file saved successfully');\n                  \n                  return true;\n                } catch (err) {\n                  console.error('Error using File System Access API for CSV:', err);\n                  \n                  // If user cancelled, just return\n                  if (err.name === 'AbortError') {\n                    console.log('User cancelled the CSV file save operation');\n                    return false;\n                  }\n                  \n                  // Fall back to direct download without dialog\n                  console.log('Falling back to direct download for CSV');\n                  downloadFile(csvData, suggestedName, 'text/csv;charset=utf-8;');\n                }\n              } else {\n                // Fall back to direct download without dialog\n                console.log('File System Access API not supported, using direct download');\n                downloadFile(csvData, suggestedName, 'text/csv;charset=utf-8;');\n              }\n            } catch (err) {\n              console.error('Error in direct CSV save operation:', err);\n              alert('Error saving CSV file: ' + err.message);\n            }\n          }\n          \n          // Set up event listeners for all buttons and links\n          \n          // Set up editor toggle button\n          const toggleEditorBtn = document.getElementById('toggle-editor');\n          if (toggleEditorBtn) {\n            toggleEditorBtn.addEventListener('click', toggleEditor);\n          } else {\n            console.error('Toggle editor button not found');\n          }\n          \n          // Set up save XML button\n          const saveXmlBtn = document.getElementById('save-xml');\n          if (saveXmlBtn) {\n            saveXmlBtn.addEventListener('click', saveXmlDirectly);\n          } else {\n            console.error('Save XML button not found');\n          }\n          \n          // Set up format XML button\n          const formatXmlBtn = document.getElementById('format-xml');\n          if (formatXmlBtn) {\n            formatXmlBtn.addEventListener('click', formatXml);\n          } else {\n            console.error('Format XML button not found');\n          }\n          \n          // Set up find button\n          const findXmlBtn = document.getElementById('find-xml');\n          if (findXmlBtn) {\n            findXmlBtn.addEventListener('click', findInEditor);\n          } else {\n            console.error('Find XML button not found');\n          }\n          \n          // Set up export CSV button\n          const exportCsvBtn = document.getElementById('export-csv');\n          if (exportCsvBtn) {\n            exportCsvBtn.addEventListener('click', function() {\n              console.log('Export CSV button clicked');\n              saveCsvDirectly();\n            });\n          } else {\n            console.error('Export CSV button not found');\n          }\n          \n          // Set up XPath links - FIXED SELECTOR\n          const xpathLinks = document.querySelectorAll('.xpath-link');\n          console.log('Found XPath links:', xpathLinks.length);\n          \n          xpathLinks.forEach(function(link) {\n            link.addEventListener('click', function(e) {\n              console.log('XPath link clicked');\n              // Prevent default link behavior\n              e.preventDefault();\n              \n              const xpath = this.getAttribute('data-xpath');\n              if (!xpath) {\n                console.error('No XPath data attribute found');\n                return;\n              }\n              \n              console.log('Navigating to XPath:', xpath);\n              findElementByXPath(xpath);\n            });\n          });\n          \n          // Set up cancel button for XML save dialog\n          const saveDialog = document.getElementById('save-file-dialog');\n          const cancelSaveButton = document.getElementById('cancel-save');\n          \n          if (cancelSaveButton && saveDialog) {\n            cancelSaveButton.addEventListener('click', function() {\n              saveDialog.style.display = 'none';\n            });\n          } else {\n            console.warn('Save dialog or cancel button not found');\n          }\n          \n          console.log('DOM fully loaded and JavaScript initialization completed');\n        });\n        \n        "}]}]}]}]}]}]}]}]}]},{"N":"overridden"},{"N":"output","C":[{"N":"property","name":"Q{http://saxon.sf.net/}stylesheet-version","value":"30"},{"N":"property","name":"method","value":"html"},{"N":"property","name":"indent","value":"yes"},{"N":"property","name":"encoding","value":"UTF-8"}]},{"N":"decimalFormat"}],"":"7102798","2":"8f92e7df857c36518d4710124d9bd456981138736a18de78c70c1a314207b05c"}